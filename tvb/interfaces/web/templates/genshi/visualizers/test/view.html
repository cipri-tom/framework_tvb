<div id = "myDiv" style="width:800px; height:600px" xmlns:py="http://genshi.edgewall.org/">
    <script type="text/javascript" src="https://rawgithub.com/mrdoob/three.js/master/build/three.js"></script>
    <script type="text/javascript" src="https://rawgithub.com/mrdoob/stats.js/master/build/stats.min.js"></script>
    <script type="text/javascript" src="/static_view/test/scripts/TrackballControls.js"></script>

    <script type="text/javascript" src="/static/js/sylvester.js"></script>
    <script type="text/javascript" src="/static/jquery/jquery.mousewheel.js"></script>
    <script type="text/javascript" src="/static/js/zoom.js"></script>
    <script type="text/javascript" src="/static/js/glUtils.js"></script>
    <script type="text/javascript" src="/static/js/webGL_ShaderAndMatrixes.js?4266"></script>
    <script type="text/javascript" src="/static/js/webGL_Mouse.js?4266"></script>
    <!--<script type="text/javascript" src="/static_view/test/scripts/dat.gui.min.js"></script>-->
    <!--<script type="text/javascript" src="http://get.goxtk.com/xtk.js"></script>-->
    <!--<script type="text/javascript" src="http://benvanik.github.io/WebGL-Inspector/core/lib/gli.all.js"></script>-->
    <!--<link rel="stylesheet" href="http://benvanik.github.io/WebGL-Inspector/core/lib/gli.all.css">-->


    <!--benchmarking shaders-->
    <script id="benchVS" type="x-shader/x-vertex">
        precision highp float;

        attribute vec3 aVertexPosition;
        attribute vec3 aVertexNormal;
        attribute vec3 aVertexColor;

        varying vec3 vColor;
        varying vec3 vLighting;

        uniform mat4 uPMatrix;
		uniform mat4 uMVMatrix;
		uniform mat4 uNMatrix;

        void main()
        {
            vec4 mvPosition = uMVMatrix * vec4(aVertexPosition, 1.0);
			gl_Position = uPMatrix * mvPosition;

            vec3 directionalLight = vec3(0.85, 0.8, 0.75);

            vec4 transformedNormal = uNMatrix * vec4(aVertexNormal, 1.0);

            float dProd = max(0.0, dot(transformedNormal.xyz, directionalLight));

            // vColor = aVertexColor * dProd;
            vColor = normalize(transformedNormal.xyz);
        }


    </script>

    <script id="benchFS" type="x-shader/x-fragment">
        precision highp float;
        varying vec3 vColor;
        varying vec3 vLighting;

        void main()
        {
            gl_FragColor = vec4(vColor, 1.0);
        }

    </script>


    <!--framework shaders-->
    <script id="shader-vs" type="x-shader/x-vertex">
        #ifdef GL_ES
		precision highp float;
		#endif

        attribute vec3 customColor;
        varying vec3 vColor;

        void main() {
            vec3 light = normalize(cameraPosition);
            float dProd = max (0.0, dot(normal, light));
            vColor = customColor * dProd;

            // vec3 newPosition = position + normal;
            gl_Position = projectionMatrix * modelViewMatrix * vec4 (position, 1.0);
        }


    </script>

    <script id="shader-fs" type="x-shader/x-fragment">
        #ifdef GL_ES
		precision highp float;
		#endif

        varying vec3 vColor;

        void main() {
            gl_FragColor = vec4(vColor, 1.0);
        }
    </script>

    <!--<script type="text/javascript" src="/static_view/test/scripts/gl_framework.js"></script>-->
    <!--<script type="text/javascript" src="/static_view/test/scripts/xtkExp.js"></script>-->
    <!--<script type="text/javascript" src="/static_view/test/scripts/three_geometry.js"></script>-->
    <!--<script type="text/javascript" src="/static_view/test/scripts/faceMaterials.js"></script>-->
    <!--<script type="text/javascript" src="/static_view/test/scripts/gl_framework2.js"></script>-->
    <script type="text/javascript" src="/static_view/test/scripts/gl_benchmark.js"></script>

    <script type="text/javascript">

        $(document).ready(function () {
            init_data('${urlVertices}', '${urlTriangles}', '${urlNormals}', '${timeSeriesGid}',
                    '${minActivity}', '${maxActivity}', ${'true' if isOneToOneMapping else 'false'},
                    '${null if isOneToOneMapping else regionMappingGid}');
            animate();
        });

    </script>
</div>
